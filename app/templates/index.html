<body>

<div class="container">
	<button id="add_bar" onClick="add_bar()" >Add bar</button>
	<div id="bars"></div>
	<div></div>
</div>

<script src="/static/nanobar.min.js"></script>
<script>

	var percent = 0;
	var nanobars = [];
	
	function add_bar() {

		// Create div to put bar inside
		var div = document.createElement("div");
		var bar_id = "bar_" + nanobars.length;
		div.setAttribute("id", bar_id);
		document.body.appendChild(div);
		
		// Create new bar, push to array
		var bar = new Nanobar({target: document.getElementById(bar_id)});
		nanobars.push(bar);

		percent = percent + 20;
		if (percent > 100) {
			percent = 20;
		}
		var i;
		for (i = 0; i < nanobars.length; i++) {
			nanobars[i].go(percent);
		}

		// Create text about percentage to put inside div
		var divtext = document.createTextNode(percent + "%");
		div.appendChild(divtext);
		
	}
</script>
	
</body>
</html>
